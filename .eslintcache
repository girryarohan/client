[{"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\index.js":"1","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\App.js":"2","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\reportWebVitals.js":"3","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\Home.js":"4","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\Login.js":"5","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\Register.js":"6","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\components\\nav\\Header.js":"7","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\firebase.js":"8","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\RegisterComplete.js":"9","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\reducers\\index.js":"10","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\reducers\\userReducer.js":"11","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\ForgotPassword.js":"12"},{"size":830,"mtime":1610638540650,"results":"13","hashOfConfig":"14"},{"size":1603,"mtime":1610653642391,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"14"},{"size":142,"mtime":1610614790508,"results":"17","hashOfConfig":"14"},{"size":3709,"mtime":1610655162327,"results":"18","hashOfConfig":"14"},{"size":1782,"mtime":1610655291324,"results":"19","hashOfConfig":"14"},{"size":1968,"mtime":1610652311727,"results":"20","hashOfConfig":"14"},{"size":728,"mtime":1610622690494,"results":"21","hashOfConfig":"14"},{"size":2665,"mtime":1610635911036,"results":"22","hashOfConfig":"14"},{"size":185,"mtime":1610638299711,"results":"23","hashOfConfig":"14"},{"size":234,"mtime":1610642514212,"results":"24","hashOfConfig":"14"},{"size":1928,"mtime":1610655116027,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"qda8mi",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\index.js",[],["52","53"],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\App.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\reportWebVitals.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\Home.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\Login.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\Register.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\components\\nav\\Header.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\firebase.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\RegisterComplete.js",["54"],"import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction RegisterComplete({ history }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setEmail(window.localStorage.getItem(\"emailForRegistration\"));\r\n    console.log(window.location.href);\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault(); // do not reload browser\r\n\r\n    // validation\r\n    if (!email || !password) {\r\n      toast.error(\"Email and password is required\");\r\n      return;\r\n    }\r\n    if (password.length < 6) {\r\n      toast.error(\"Password must be at least 6 characters long\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = await auth.signInWithEmailLink(\r\n        email,\r\n        window.location.href\r\n      );\r\n      // following will check if the user email is verified or not\r\n      // so that unathorized access to page and unathorized email cannot set its password\r\n      if (result.user.emailVerified) {\r\n        // remove user email from local storage\r\n        window.localStorage.removeItem(\"emailForRegistration\");\r\n        // get user id token\r\n        let user = auth.currentUser;\r\n        await user.updatePassword(password);\r\n        const idTokenResult = await user.getIdTokenResult();\r\n\r\n        // redux store\r\n\r\n        //redirect\r\n        history.push(\"/\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n  const completeRegistrationForm = () => (\r\n    <form onSubmit={handleSubmit} className=\"form\">\r\n      <div className=\"form-group\">\r\n        <input type=\"email\" className=\"form-control\" value={email} autoFocus />\r\n        {/* disabled not added to email input to prevent deadlock because of browser local storage cache clear*/}\r\n        {/* eg. if user enters email and clears browser cache and come back via email link then email will be undefined */}\r\n        <input\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          autoFocus\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Enter New Password\"\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-raised\">\r\n        Complete\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"container p-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          <h4>Complete Registration</h4>\r\n\r\n          {completeRegistrationForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegisterComplete;\r\n","D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\reducers\\index.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\reducers\\userReducer.js",[],"D:\\FSWD\\REACT_PROJECTS\\ecom-live\\client\\src\\pages\\auth\\ForgotPassword.js",[],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":40,"column":15,"nodeType":"61","messageId":"62","endLine":40,"endColumn":28},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],"no-unused-vars","'idTokenResult' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]